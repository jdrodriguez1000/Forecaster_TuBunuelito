{
    "phase": "04_feature_engineering",
    "timestamp": "2026-02-27T15:49:44.341527",
    "description": "Enriquecimiento, Validación y Auditoría Estadística del dataset final.",
    "business_rule_compliance": {
        "rule_T_minus_1_vs_T": "Cumplida. Lags, momentum y ratios auditados para prevenir fuga de datos.",
        "statistical_validation": "VIF y Correlación ejecutados para asegurar independencia de exógenas.",
        "dual_persistence": "Activa para datos y reportes (Latest + History)."
    },
    "data_inventory": {
        "summary": {
            "original_count": 36,
            "maintained_count": 7,
            "dropped_count": 31,
            "created_count": 21,
            "total_final_columns": 26
        },
        "details": {
            "original_dataset_columns": [
                "unidades_totales",
                "unidades_pagas",
                "unidades_bonificadas",
                "es_promocion",
                "ads_activos",
                "kit_inicial_bodega",
                "kit_recibido",
                "lbs_recibidas",
                "demanda_teorica_total",
                "buñuelos_preparados",
                "ventas_reales_totales",
                "ventas_reales_pagas",
                "ventas_reales_bonificadas",
                "buñuelos_desperdiciados",
                "unidades_agotadas",
                "kit_final_bodega",
                "precio_unitario",
                "costo_unitario",
                "margen_bruto",
                "porcentaje_margen",
                "inversion_total",
                "ig_cost",
                "fb_cost",
                "ig_pct",
                "fb_pct",
                "campaña_activa",
                "smlv",
                "inflacion_mensual_ipc",
                "tasa_desempleo",
                "trm",
                "temperatura_media",
                "probabilidad_lluvia",
                "precipitacion_mm",
                "tipo_lluvia",
                "evento_macro",
                "es_dia_lluvioso"
            ],
            "columns_maintained": [
                "es_promocion",
                "demanda_teorica_total",
                "porcentaje_margen",
                "tasa_desempleo",
                "temperatura_media",
                "tipo_lluvia",
                "evento_macro"
            ],
            "columns_dropped": [
                "unidades_totales",
                "unidades_pagas",
                "unidades_bonificadas",
                "kit_inicial_bodega",
                "kit_recibido",
                "lbs_recibidas",
                "buñuelos_preparados",
                "ventas_reales_totales",
                "ventas_reales_pagas",
                "ventas_reales_bonificadas",
                "buñuelos_desperdiciados",
                "unidades_agotadas",
                "kit_final_bodega",
                "precio_unitario",
                "costo_unitario",
                "margen_bruto",
                "ig_cost",
                "fb_cost",
                "ig_pct",
                "fb_pct",
                "probabilidad_lluvia",
                "precipitacion_mm",
                "ads_activos",
                "smlv",
                "trm",
                "es_dia_lluvioso",
                "campaña_activa",
                "inflacion_mensual_ipc",
                "precio_var_pct",
                "smlv_var_pct",
                "inversion_total"
            ],
            "columns_created_or_transformed": [
                "fecha",
                "month",
                "day_of_week",
                "is_sunday",
                "es_quincena",
                "es_prima_legal",
                "es_novena",
                "es_feria_flores",
                "trm_lag_30",
                "ipc_momentum",
                "rolling_rain_days_3",
                "is_heavy_rain",
                "is_light_rain",
                "asequibilidad_idx",
                "precio_var_pct",
                "spread_inflacion",
                "smlv_var_pct",
                "smlv_real_growth",
                "vulnerability_trm",
                "interaction_es_promocion_is_sunday",
                "interaction_es_quincena_is_heavy_rain"
            ]
        },
        "final_dataset": {
            "name": "dataset_features_latest.parquet",
            "path": "data/04_processed/",
            "total_rows": 3254
        }
    },
    "quality_audit": {
        "presents_nulls": false,
        "null_details": {},
        "duplicate_rows": 0,
        "duplicate_dates": 0,
        "statistical_diagnostics": {
            "vif_analysis": {
                "es_promocion": 1.9675593606228905,
                "demanda_teorica_total": 2.920957723104453,
                "porcentaje_margen": 1.1661176702967675,
                "tasa_desempleo": 2.4506025087580228,
                "temperatura_media": 1.458122240749405,
                "month": 3.0252875883620627,
                "day_of_week": 1.9579060487622184,
                "is_sunday": 1.8136881713640147,
                "es_quincena": 1.2963529275945196,
                "es_prima_legal": 1.2993915565057899,
                "es_novena": 1.4791337553208612,
                "es_feria_flores": 1.054638492761509,
                "trm_lag_30": 1.6397484153029178,
                "ipc_momentum": 1.2092960338952303,
                "rolling_rain_days_3": 1.4272214168862034,
                "is_heavy_rain": 1.4125678584759274,
                "is_light_rain": 1.3447243948267642,
                "asequibilidad_idx": 3.732453036359507,
                "spread_inflacion": 1.4332792832870584,
                "smlv_real_growth": 1.2618382093218734,
                "vulnerability_trm": 2.4994639945127366,
                "interaction_es_promocion_is_sunday": 1.3520733347051341,
                "interaction_es_quincena_is_heavy_rain": 1.3882193245969567
            },
            "high_correlations_detected": {}
        }
    },
    "performance": {
        "execution_time_seconds": 0.303781,
        "status": "success"
    }
}